<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ECMAScript | mkDlufop`s notes</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Just Hack">
    
    <link rel="preload" href="/FrontNotes/assets/css/0.styles.d09f69a5.css" as="style"><link rel="preload" href="/FrontNotes/assets/js/app.8797468b.js" as="script"><link rel="preload" href="/FrontNotes/assets/js/2.812b2437.js" as="script"><link rel="preload" href="/FrontNotes/assets/js/5.27c6bbc0.js" as="script"><link rel="prefetch" href="/FrontNotes/assets/js/10.7c190043.js"><link rel="prefetch" href="/FrontNotes/assets/js/11.73fa3ac4.js"><link rel="prefetch" href="/FrontNotes/assets/js/12.6dd6cba5.js"><link rel="prefetch" href="/FrontNotes/assets/js/13.a25d8ba7.js"><link rel="prefetch" href="/FrontNotes/assets/js/14.75626245.js"><link rel="prefetch" href="/FrontNotes/assets/js/15.55900a84.js"><link rel="prefetch" href="/FrontNotes/assets/js/16.8efb938f.js"><link rel="prefetch" href="/FrontNotes/assets/js/17.0b442e73.js"><link rel="prefetch" href="/FrontNotes/assets/js/18.2d5f2a6d.js"><link rel="prefetch" href="/FrontNotes/assets/js/19.80444ef9.js"><link rel="prefetch" href="/FrontNotes/assets/js/20.f3ed9b86.js"><link rel="prefetch" href="/FrontNotes/assets/js/21.89c05824.js"><link rel="prefetch" href="/FrontNotes/assets/js/22.50b941df.js"><link rel="prefetch" href="/FrontNotes/assets/js/23.0aec865b.js"><link rel="prefetch" href="/FrontNotes/assets/js/24.b3620ade.js"><link rel="prefetch" href="/FrontNotes/assets/js/25.a6fa4d8b.js"><link rel="prefetch" href="/FrontNotes/assets/js/26.d42f8af3.js"><link rel="prefetch" href="/FrontNotes/assets/js/27.cc3bad16.js"><link rel="prefetch" href="/FrontNotes/assets/js/3.12cb484e.js"><link rel="prefetch" href="/FrontNotes/assets/js/4.1d392c36.js"><link rel="prefetch" href="/FrontNotes/assets/js/6.ed33e795.js"><link rel="prefetch" href="/FrontNotes/assets/js/7.a064bae5.js"><link rel="prefetch" href="/FrontNotes/assets/js/8.8348664e.js"><link rel="prefetch" href="/FrontNotes/assets/js/9.101995f3.js">
    <link rel="stylesheet" href="/FrontNotes/assets/css/0.styles.d09f69a5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/FrontNotes/" class="home-link router-link-active"><!----> <span class="site-name">mkDlufop`s notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/FrontNotes/html/" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/FrontNotes/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JS" class="dropdown-title"><span class="title">JS</span> <span class="arrow down"></span></button> <button type="button" aria-label="JS" class="mobile-dropdown-title"><span class="title">JS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FrontNotes/js_ecmascript/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ECMAScript
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/js_dom/" class="nav-link">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/js_bom/" class="nav-link">
  BOM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FrontNotes/vue_base/" class="nav-link">
  Vue 基础
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/vue_vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/vue_router/" class="nav-link">
  Vue Router
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/vue_cli/" class="nav-link">
  Vue CLI
</a></li></ul></div></div><div class="nav-item"><a href="/FrontNotes/browser/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><a href="/FrontNotes/computer_network/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="最佳实践" class="dropdown-title"><span class="title">最佳实践</span> <span class="arrow down"></span></button> <button type="button" aria-label="最佳实践" class="mobile-dropdown-title"><span class="title">最佳实践</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FrontNotes/ui_optimize/" class="nav-link">
  用户界面优化
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/performance_optimize/" class="nav-link">
  性能优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试题" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_HTML/" class="nav-link">
  面试题_HTML
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_CSS/" class="nav-link">
  面试题_CSS
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_JS/" class="nav-link">
  面试题_JS
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_Vue/" class="nav-link">
  面试题_Vue
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_network/" class="nav-link">
  面试题_计算机网络
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/mkDlufop/FrontNotes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/FrontNotes/html/" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/FrontNotes/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JS" class="dropdown-title"><span class="title">JS</span> <span class="arrow down"></span></button> <button type="button" aria-label="JS" class="mobile-dropdown-title"><span class="title">JS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FrontNotes/js_ecmascript/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ECMAScript
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/js_dom/" class="nav-link">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/js_bom/" class="nav-link">
  BOM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FrontNotes/vue_base/" class="nav-link">
  Vue 基础
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/vue_vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/vue_router/" class="nav-link">
  Vue Router
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/vue_cli/" class="nav-link">
  Vue CLI
</a></li></ul></div></div><div class="nav-item"><a href="/FrontNotes/browser/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><a href="/FrontNotes/computer_network/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="最佳实践" class="dropdown-title"><span class="title">最佳实践</span> <span class="arrow down"></span></button> <button type="button" aria-label="最佳实践" class="mobile-dropdown-title"><span class="title">最佳实践</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FrontNotes/ui_optimize/" class="nav-link">
  用户界面优化
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/performance_optimize/" class="nav-link">
  性能优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试题" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_HTML/" class="nav-link">
  面试题_HTML
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_CSS/" class="nav-link">
  面试题_CSS
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_JS/" class="nav-link">
  面试题_JS
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_Vue/" class="nav-link">
  面试题_Vue
</a></li><li class="dropdown-item"><!----> <a href="/FrontNotes/interview_questions_network/" class="nav-link">
  面试题_计算机网络
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/mkDlufop/FrontNotes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ECMAScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FrontNotes/js_ecmascript/#_1-基本语法" class="sidebar-link">1. 基本语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#操作符" class="sidebar-link">操作符</a></li></ul></li><li><a href="/FrontNotes/js_ecmascript/#_2-作用域与内存" class="sidebar-link">2. 作用域与内存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#作用域" class="sidebar-link">作用域</a></li><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#垃圾回收" class="sidebar-link">垃圾回收</a></li></ul></li><li><a href="/FrontNotes/js_ecmascript/#_3-面向对象" class="sidebar-link">3. 面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#创建对象" class="sidebar-link">创建对象</a></li><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#类" class="sidebar-link">类</a></li></ul></li><li><a href="/FrontNotes/js_ecmascript/#_4-函数" class="sidebar-link">4. 函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#函数的-arguments-参数" class="sidebar-link">函数的 arguments 参数</a></li><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#this-指向" class="sidebar-link">this 指向</a></li><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#函数上下文的创建" class="sidebar-link">函数上下文的创建</a></li><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#闭包" class="sidebar-link">闭包</a></li></ul></li><li><a href="/FrontNotes/js_ecmascript/#_5-异步编程" class="sidebar-link">5. 异步编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#promise" class="sidebar-link">Promise</a></li><li class="sidebar-sub-header"><a href="/FrontNotes/js_ecmascript/#async-await" class="sidebar-link">async/await</a></li></ul></li><li><a href="/FrontNotes/js_ecmascript/#_6-网络请求" class="sidebar-link">6. 网络请求</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/FrontNotes/js_ecmascript/#_7-模块化" class="sidebar-link">7. 模块化</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#_1-基本语法">1. 基本语法</a><ul><li><a href="#变量">变量</a></li><li><a href="#数据类型">数据类型</a></li><li><a href="#操作符">操作符</a></li></ul></li><li><a href="#_2-作用域与内存">2. 作用域与内存</a><ul><li><a href="#作用域">作用域</a></li><li><a href="#垃圾回收">垃圾回收</a></li></ul></li><li><a href="#_3-面向对象">3. 面向对象</a><ul><li><a href="#创建对象">创建对象</a></li><li><a href="#类">类</a></li></ul></li><li><a href="#_4-函数">4. 函数</a><ul><li><a href="#函数的-arguments-参数">函数的 arguments 参数</a></li><li><a href="#this-指向">this 指向</a></li><li><a href="#函数上下文的创建">函数上下文的创建</a></li><li><a href="#闭包">闭包</a></li></ul></li><li><a href="#_5-异步编程">5. 异步编程</a><ul><li><a href="#promise">Promise</a></li><li><a href="#async-await">async/await</a></li></ul></li><li><a href="#_6-网络请求">6. 网络请求</a></li><li><a href="#_7-模块化">7. 模块化</a></li></ul></div><p></p> <blockquote><p>一个完整的 JavaScript 实现应该由下列三个不同的部分组成：</p> <ul><li>核心（<strong>ECMAScript</strong>）</li> <li>文档对象模型（<strong>DOM</strong>）</li> <li>浏览器对象模型（<strong>BOM</strong>）</li></ul></blockquote> <p>ECMAScript 提供核心语言功能。ECMA-262 标准规定了：</p> <ol><li><p>语法</p></li> <li><p>类型</p></li> <li><p>语句</p></li> <li><p>关键字</p></li> <li><p>保留字</p></li> <li><p>操作符</p></li> <li><p>对象</p></li></ol> <h2 id="_1-基本语法"><a href="#_1-基本语法" class="header-anchor">#</a> 1. 基本语法</h2> <h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <p><strong>var、let、const 之间的区别：</strong></p> <p>var 和 let 之间最明显的区别在于作用域不同。</p> <p>let 和 const 的行为基本相同，唯一一个重要的区别在于 const 声明变量时必须同时初始化变量，且尝试修改 const 声明的变量时会导致运行时错误。</p> <table><thead><tr><th></th> <th>var</th> <th>let</th> <th>const</th></tr></thead> <tbody><tr><td>作用域</td> <td>函数</td> <td>块</td> <td>块</td></tr> <tr><td>兼容性</td> <td>适用于 ECMAScript 的所有版本</td> <td>适用于 ES6 及之后的所有版本</td> <td>适用于 ES6 及之后的所有版本</td></tr> <tr><td>变量提升</td> <td>var 命令会发生“变量提升”现象，<br>即变量可以在声明之前使用，值为 undefined 。<br>示例：<br><code>console.log(foo);</code><br><code>var foo = 2;</code><br>// undefined</td> <td>不存在<br>示例：<br><code>console.log(bar);</code><br><code>let bar = 2;</code><br>// 报错 ReferenceError</td> <td>不存在</td></tr> <tr><td>暂时性死区</td> <td>不存在</td> <td>在块作用域内，使用let命令声明变量之前，该变量都是不可用的，在声明之前使用这些变量会报错。这在语法上，称为“暂时性死区”（temporal dead zone，简称 TDZ）。</td> <td>存在</td></tr> <tr><td>全局变量</td> <td>在全局作用域中声明的变量会成为 window 对象的属性，<br>例如：<br>var name = 'Matt';<br>console.log(window.name);<br>// 'Matt'<br>let age = 26;<br>console.log(window.age);<br>// undefined</td> <td>不会</td> <td>不会</td></tr> <tr><td>声明变量时初始化变量</td> <td>否</td> <td>否</td> <td>声明变量时必须同时初始化变量</td></tr> <tr><td>重复声明变量</td> <td>可以重复声明变量，后声明的同名变量会覆盖之前声明的变量</td> <td>不能</td> <td>不能</td></tr> <tr><td>顶层变量的属性</td> <td>命令声明的全局变量属于顶层对象的属性</td> <td>不属于</td> <td>不属于</td></tr></tbody></table> <h3 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h3> <h4 id="基本数据类型"><a href="#基本数据类型" class="header-anchor">#</a> 基本数据类型</h4> <h5 id="null"><a href="#null" class="header-anchor">#</a> Null</h5> <p>null 表示“没有对象”，即该处不应该有值。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 0</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; object</span>
</code></pre></div><h5 id="undefined"><a href="#undefined" class="header-anchor">#</a> Undefined</h5> <p>undefined 表示“缺值”，就是此处应该有一个值，但是还没有定义。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; NaN</span>
</code></pre></div><h5 id="boolean-类型"><a href="#boolean-类型" class="header-anchor">#</a> Boolean 类型</h5> <ul><li><p><code>Boolean()</code> 函数可以在任意类型的数据上调用，而且始终返回一个布尔值。不同类型与布尔值之间的转换规则：</p> <table><thead><tr><th>数据类型</th> <th>转换为 true 的值</th> <th>转换为 false 的值</th></tr></thead> <tbody><tr><td>Boolean</td> <td>true</td> <td>false</td></tr> <tr><td>String</td> <td>非空字符串</td> <td>‘’（空字符串）</td></tr> <tr><td>Number</td> <td>非零数值（包括无穷值）</td> <td>0、NaN</td></tr> <tr><td>Object</td> <td>任意对象</td> <td>null</td></tr> <tr><td>Undefined</td> <td>N/A（不存在）</td> <td>undefined</td></tr> <tr><td>Null</td> <td>N/A（不存在）</td> <td>null</td></tr> <tr><td>Symbol</td> <td>任意 Symbol 值</td> <td>N/A（不存在）</td></tr></tbody></table></li></ul> <h5 id="number-类型"><a href="#number-类型" class="header-anchor">#</a> Number 类型</h5> <ul><li><p>使用字面量（literal）直接表示一个数值时，JavaScript 对整数提供四种进制的表示方法：十进制、十六进制、八进制、二进制。</p> <ul><li>十进制：没有前导 0 的数值。</li> <li>八进制：有前缀<code>0o</code>或<code>0O</code>的数值，或者有前导 0、且只用到 0-7 的八个阿拉伯数字的数值。</li> <li>十六进制：有前缀<code>0x</code>或<code>0X</code>的数值。</li> <li>二进制：有前缀<code>0b</code>或<code>0B</code>的数值。</li></ul> <p>默认情况下，JavaScript 内部会自动将八进制、十六进制、二进制转为十进制。</p></li> <li><p>JavaScript 的 Number 类型为 <code>双精度 IEEE 754 64 位浮点类型</code>。 在 JavaScript 中最大的值为 <code>2^53</code>。</p> <blockquote><p>IEEE754 对于浮点数表示方式给出了一种定义 -- (-1)^S <em>M</em> 2^E。</p> <p>各符号的意思，S，是符号位，决定正负，0 时为正数，1 时为负数。M，是指有效位数，大于 1 小于 2。E，是指数位。</p> <p>Javascript 是 64 位的双精度浮点数，最高的 1 位是符号位 S，接着的 11 位是指数 E，剩下的 52 位为有效数字 M。</p> <p>如 0.1 用 64 位的双精度浮点数表示，为<code>1.100110011001100110011001100110011001100110011001101 × 2 ^ (01111111011-1111111111)</code>。</p></blockquote></li> <li><p><code>NaN</code> 指“不是一个数字”（not a number），<code>NaN</code> 是一个“警戒值”（sentinel value，有特殊用途的常规值），用于指出数字类型中的错误情况，即“执行数学运算没有成功，这是失败后返回的结果”。</p></li> <li><p><code>NaN</code>不等于任何值，包括其本身。<code>NaN</code>与任何数（包括它自己）的运算，得到的都是<code>NaN</code>。</p></li> <li><p><code>isNaN()</code>函数：接收一个参数，可以是任意数据类型，函数 isNaN 接收参数后，会尝试将这个参数转换为数值，然后判断这个参数是否“不是数值”，任何不能被转换为数值的的值都会返回 true。</p> <p><code>console.log(isNaN(NaN)); // true console.log(isNaN(10)); // false，10 是数值</code></p></li> <li><p><code>Number.isNaN()</code>函数：首先判断传入参数是否为数字，如果是数字再继续判断是否为 NaN ，不会进行数据类型的转换，这种方法对于 NaN 的判断更为准确。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 下面几个如果使用全局的 isNaN() 方法，会返回 true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">&quot;NaN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div></li> <li><p>数值转换：</p> <ul><li>Number() 函数基于如下规则执行转换。
<ul><li>布尔值， true 转换为 1， false 转换为 0。</li> <li>数值，直接返回。</li> <li>null ，返回 0。</li> <li>undefined ，返回 NaN 。</li> <li>字符串，应用以下规则。
<ul><li>如果字符串包含数值字符，包括数值字符前面带加、减号的情况，则转换为一个十进制数值。
因此， Number(&quot;1&quot;) 返回 1， Number(&quot;123&quot;) 返回 123， Number(&quot;011&quot;) 返回 11（忽略前面的零）。</li> <li>如果字符串包含有效的浮点值格式如 &quot;1.1&quot; ，则会转换为相应的浮点值（同样，忽略前面的零）。</li> <li>如果字符串包含有效的十六进制格式如 &quot;0xf&quot; ，则会转换为与该十六进制值对应的十进制整数值。</li> <li>如果是空字符串（不包含字符），则返回 0。</li> <li>如果字符串包含除上述情况之外的其他字符，则返回 NaN 。</li></ul></li> <li>对象，调用 valueOf() 方法，并按照上述规则转换返回的值。如果转换结果是 NaN ，则调用 toString() 方法，再按照转换字符串的规则转换。
<blockquote><p>数组转换成数字：空数组为 0，存在一个元素且为数字转数字，其他情况 NaN。</p> <p>除了数组的引用类型转数字：得到的结果是 NaN。</p> <p>Symbol 转数字会错误。</p></blockquote></li></ul></li> <li>考虑到用 Number() 函数转换字符串时相对复杂且有点反常规，通常<strong>在需要得到整数时</strong>可以优先使用 <code>parseInt()</code> 函数。
字符串最前面的空格会被忽略，从第一个非空格字符开始转换。<strong>如果第一个字符不是</strong>数值字符、加号或减号，<code>parseInt()</code>立即返回 NaN 。这意味着空字符串也会返回 NaN （这一点跟 Number() 不一样，它返回 0）。<strong>如果第一个字符是</strong>数值字符、加号或减号，则继续依次检测每个字符，直到字符串末尾，或碰到非数值字符。比如，&quot;1234blue&quot; 会被转换为 1234，因为 &quot;blue&quot; 会被完全忽略。类似地， &quot;22.5&quot; 会被转换为 22，因为小数点不是有效的整数字符。
<strong>假设字符串中的第一个字符是数值字符</strong>， <code>parseInt()</code> 函数也能识别不同的整数格式（十进制、八进制、十六进制），如：<code>let num = parseInt(”0xf”); // 15，解释为十六进制整数</code>。或者可以接受第二个参数（2 到 36 之间），表示被解析的值的进制，返回该值对应的十进制数，如：<code>parseInt('1000', 2) // 8</code>。</li> <li><code>parseFloat()</code> 函数的工作方式跟 <code>parseInt()</code>函数类似，都是从位置 0 开始检测每个字符。同样，它也是解析到字符串末尾或者解析到一个无效的浮点数值字符为止。如：<code>parseFloat(”22.34.5”); // 22.34</code>。
<code>parseFloat()</code>函数的另一个不同之处在于，它始终忽略字符串开头的零。如：<code>parseFloat(”0xA”); // 0</code>。</li> <li>隐式转换：利用 - 、*、/【变量 - 0、变量 * 1 、变量 / 1】。</li></ul></li></ul> <h5 id="string-类型"><a href="#string-类型" class="header-anchor">#</a> String 类型</h5> <ul><li><p>特殊字符：</p> <table><thead><tr><th>特殊字符</th> <th>含义</th></tr></thead> <tbody><tr><td>\n</td> <td>换行符（\u000A）</td></tr> <tr><td>\t</td> <td>制表符（\u0009）</td></tr> <tr><td>\b</td> <td>后退键（\u0008）</td></tr> <tr><td>\r</td> <td>回车键（\u000D）</td></tr> <tr><td>\f</td> <td>换页符（\u000C）</td></tr> <tr><td>\v</td> <td>垂直制表符（\u000B）</td></tr> <tr><td>\nnn</td> <td>以八进制编码 nnn 表示的 Unicode 字符（其中 n 是八进制数字 0~7），例如 \41 等于 &quot;!”</td></tr> <tr><td>\xnn</td> <td>以十六进制编码 nn 表示的 Unicode 字符（其中 n 是十六进制数字 0~F），例如 \x41 等于 &quot;A”</td></tr> <tr><td>\unnnn</td> <td>以十六进制编码 nnnn 表示的 Unicode 字符（其中 n 是十六进制数字 0~F），例如 \u03a3 等于希腊字符 &quot;Σ”</td></tr> <tr><td>\0</td> <td>null（\u0000）</td></tr></tbody></table></li> <li><p><strong>每个字符</strong>在 JavaScript 内部都是以 <strong>16 位</strong>（即 2 个字节）的 <strong>UTF-16 格式储存</strong>。也就是说，JavaScript 的单位字符长度固定为 16 位长度，即 2 个字节。
但是，UTF-16 有两种长度：对于码点在<code>U+0000</code>到<code>U+FFFF</code>之间的字符，长度为 16 位（即 2 个字节）；对于码点在<code>U+10000</code>到<code>U+10FFFF</code>之间的字符，长度为 32 位（即 4 个字节），而且前两个字节在<code>0xD800</code>到<code>0xDBFF</code>之间，后两个字节在<code>0xDC00</code>到<code>0xDFFF</code>之间。举例来说，码点<code>U+1D306</code>对应的字符为<code>𝌆，</code>它写成 UTF-16 就是<code>0xD834 0xDF06</code>。
JavaScript 对 UTF-16 的支持是不完整的，由于历史原因，只支持两字节的字符，不支持四字节的字符。这是因为 JavaScript 第一版发布的时候，Unicode 的码点只编到<code>U+FFFF</code>
，因此两字节足够表示了。后来，Unicode 纳入的字符越来越多，出现了四字节的编码。但是，JavaScript 的标准此时已经定型了，统一将字符长度限制在两字节，导致无法识别四字节的字符。上一节的那个四字节字符<code>𝌆</code>，浏览器会正确识别这是一个字符，但是 JavaScript 无法识别，会认为这是两个字符，<code>'𝌆'.length // 2</code>。</p></li> <li><p><strong>Base64 转码</strong>。使用 Base64 编码，将一些不可打印的字符（比如 ASCII 码 0 到 31 的符号）转成可以打印的字符。Base64 可以将任意值转成 0～9、A～Z、a-z、<code>+</code>和<code>/</code>这 64 个字符组成的可打印字符。
JavaScript 原生提供两个 Base64 相关的方法：</p> <ul><li><p><code>btoa()</code>：任意值转为 Base64 编码</p></li> <li><p><code>atob()</code>：Base64 编码转为原来的值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'Hello World!'</span><span class="token punctuation">;</span>
<span class="token function">btoa</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token comment">// &quot;SGVsbG8gV29ybGQh&quot;</span>
<span class="token function">atob</span><span class="token punctuation">(</span><span class="token string">'SGVsbG8gV29ybGQh'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Hello World!&quot;</span>
</code></pre></div><p>对于非 ASCII 码字符转为 Base64 编码，必须中间插入一个转码环节，再使用这两个方法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">b64Encode</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">btoa</span><span class="token punctuation">(</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">b64Decode</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span><span class="token function">atob</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">b64Encode</span><span class="token punctuation">(</span><span class="token string">'你好'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;JUU0JUJEJUEwJUU1JUE1JUJE&quot;</span>
<span class="token function">b64Decode</span><span class="token punctuation">(</span><span class="token string">'JUU0JUJEJUEwJUU1JUE1JUJE'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;你好&quot;</span>
</code></pre></div></li></ul></li> <li><p>转换为字符串的三种方式：</p> <ul><li><p><strong>toString()</strong>。toString() 方法可见于数值、布尔值、对象和字符串值。（没错，字符串值也有 toString() 方法，该方法只是简单地返回自身的一个副本。） 如：<code>“123”.toString(); // 123</code>。null 和 undefined 值没有 toString() 方法。
多数情况下， toString() 不接收任何参数。不过，在对数值调用这个方法时， toString() 可以接受一个参数，即以几进制来输出数值的字符串表示。如：<code>let num = 10; console.log(num.toString(2)); // “1010”</code>。</p> <blockquote><table><thead><tr><th>原始值</th> <th>转换目标</th> <th>结果</th></tr></thead> <tbody><tr><td>number</td> <td>字符串</td> <td>5 =&gt; '5'</td></tr> <tr><td>Boolean、函数、Symbol</td> <td>字符串</td> <td>'true'</td></tr> <tr><td>数组</td> <td>字符串</td> <td>[1, 2] =&gt; '1,2'</td></tr> <tr><td>对象</td> <td>字符串</td> <td>'[object Object]'</td></tr></tbody></table></blockquote></li> <li><p><strong>String() 转型函数</strong>。String() 函数遵循如下规则：</p> <ul><li>如果值有 toString() 方法，则调用该方法（不传参数）并返回结果。</li> <li>如果值是 null ，返回 &quot;null&quot; 。</li> <li>如果值是 undefined ，返回 &quot;undefined&quot; 。</li></ul></li> <li><p>用加号操作符给一个值加上一个空字符串 &quot;&quot; 也可以将其转换为字符串。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// '123'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 'null'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 'undefined'</span>
</code></pre></div></li></ul></li></ul> <h5 id="symbol-类型"><a href="#symbol-类型" class="header-anchor">#</a> Symbol 类型</h5> <p><code>Symbol</code>表示独一无二的值。</p> <ul><li><p>常用场景</p> <ul><li><p>定义一组常量，保证这组常量都是不相等的。</p></li> <li><p>对象中保证不同的属性名。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">key1</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'key2'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['key1']</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['key1']</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// key1</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// [Symbol(key2)]</span>
</code></pre></div><blockquote><p>当使用 Symbol 作为对象属性时，可以保证对象不会出现重名属性，调用 for...in 不能将其枚举出来，另外调用 Object.getOwnPropertyNames、Object.keys() 也不能获取 Symbol 属性。</p> <p>可以调用 Object.getOwnPropertySymbols() 用于专门获取 Symbol 属性。</p></blockquote></li></ul></li></ul> <h4 id="引用数据类型"><a href="#引用数据类型" class="header-anchor">#</a> 引用数据类型</h4> <h5 id="object-对象"><a href="#object-对象" class="header-anchor">#</a> Object（对象）</h5> <ul><li>创建对象的方法
<ul><li><p><code>new Object([value])</code></p> <p>Object 构造函数为给定的参数创建一个包装类对象（object wrapper），具体有以下情况：</p> <ul><li><p>如果给定值是 null 或 undefined，将会创建并返回一个空对象</p></li> <li><p>如果传进去的是一个基本类型的值，则会构造其包装类型的对象</p></li> <li><p>如果传进去的是引用类型的值，仍然会返回这个值，经他们复制的变量保有和源对象相同的引用地址</p></li></ul></li> <li><p><code>Object([value])</code>，其行为等同于<code>new Object(value)</code></p></li> <li><p><code>Object.create(proto)</code>，创建一个新对象，使用 <code>proto</code> 对象来作为新创建对象的原型。</p> <p><code>proto</code> 需为 null 或除基本类型包装对象以外的对象，否则会抛出一个 TypeError 异常。</p></li> <li><p>利用字面量创建</p></li></ul></li> <li>Object 常用方法
<ul><li><p><code>Object.assign(target, ...sources)</code>：Object.assign() 方法将所有可枚举（<code>Object.propertyIsEnumerable()</code> 返回 true）的自有（<code>Object.hasOwnProperty()</code> 返回 true）属性从一个或多个源对象复制到目标对象，返回修改后的对象。
（第一层为深拷贝，第二层为浅拷贝。）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> returnedTarget <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Expected output: Object { a: 1, b: 4, c: 5 }</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedTarget <span class="token operator">===</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Expected output: true</span>
</code></pre></div></li></ul></li></ul> <h5 id="array-数组"><a href="#array-数组" class="header-anchor">#</a> Array（数组）</h5> <ul><li><p>创建数组的方法</p> <ul><li><p><code>new Array([number])</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// []</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ &lt;2 empty items&gt; ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2 ]</span>
</code></pre></div></li> <li><p>利用字面量创建</p></li></ul></li> <li><p>检测数组的方法</p> <ul><li>Object.prototype.toString.call（数组名）</li> <li>通过 ES6 的 Array.isArray（数组名）</li> <li>通过 数组名 instanceof Array</li> <li>通过原型链</li> <li>Array.prototype.isPrototypeOf（数组名）</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Array]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1 <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li> <li><p>数组元素的增删改查、排序</p> <ul><li><p>增</p> <ul><li><p>数组末尾添加：<code>arr.push(value)</code> ， <strong>改变原数组并返回新的长度。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 0, 1, 2]               </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 0, 1, 2, 3]               </span>
</code></pre></div></li> <li><p>数组开头添加：<code>arr.unshift(value)</code> ，<strong>改变原数组并返回新的长度。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 2, 0, 1]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 0, 1, 2, 3]               </span>
</code></pre></div></li></ul></li> <li><p>删</p> <ul><li><p>删除最后一个元素：<code>arr.pop()</code> ，<strong>改变原数组并返回删除的值。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1 ]</span>
</code></pre></div></li> <li><p>删除第一个元素：<code>arr.shift()</code> ，<strong>改变原数组并返回删除的值。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 2 ]</span>
</code></pre></div></li></ul></li> <li><p>改</p> <ul><li><p>添加或删除数组中指定位置的元素：<code>arr.splice(index,howmany,item1,.....,itemX)</code> ，<strong>会改变原数组的值。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'C' ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'A', 'B', 'D' ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'E'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'D' ] // 删除数组的第三个元素，并在数组的第三个位置添加新元素</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'A', 'B', 2, 'E' ]</span>
</code></pre></div></li></ul></li> <li><p>查</p> <ul><li><p><code>arr.indexOf(searchElement，[fromIndex])</code> ，从前往后找的第一个。若找不到返回-1，找到了返回索引值。</p> <p><strong>fromIndex</strong> 为开始查找的位置。如果该索引值大于或等于数组长度，意味着不会在数组里查找，返回 -1。如果参数中提供的索引值是一个负值，则将其作为数组末尾的一个抵消，即 -1 表示从最后一个元素开始查找，-2 表示从倒数第二个元素开始查找，以此类推。注意：如果参数中提供的索引值是一个负值，并不改变其查找顺序，查找顺序仍然是从前向后查询数组。如果抵消后的索引值仍小于 0，则整个数组都将会被查询。其默认值为 0。</p> <blockquote><p><code>indexOf</code> 使用全等运算（即 ===）判断 searchElement 与数组中包含的元素之间的关系。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 6, 3, 4 ]</span>
</code></pre></div></li> <li><p><code>arr.lastIndexOf（元素）</code> ， 从后往前找的第一个。若找不到返回-1，找到了返回索引值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 6, 3, 4 ]</span>
</code></pre></div></li></ul></li> <li><p>排序</p> <ul><li><p>颠倒源数组：<code>arr.reverse()</code> ， <strong>无参数，改变原数组并返回新数组</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 4, 3, 6, 1 ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 4, 3, 6, 1 ]</span>
</code></pre></div></li> <li><p><code>arr.sort([callback])</code> 默认排序顺序为按字母升序。</p> <ul><li><p>升序排序：<code>arr.sort((a,b)=&gt;(a-b))</code> <strong>改变原数组并返回新数组</strong>。
其中回调函数的返回值&gt;0 则 b 会被排列到 a 之前，返回值=0 则 a 与 b 的相对位置不变，返回值&lt;0，则 a 会排列到 b 之前。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, 4, 6 ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, 4, 6 ]</span>
</code></pre></div></li> <li><p>降序排序：<code>arr.sort((a,b)=&gt;(b-a))</code> ， <strong>改变原数组并返回新数组</strong>
其中回调函数的返回值&gt;0 则 b 会被排列到 a 之前，返回值=0 则 a 与 b 的相对位置不变，返回值&lt;0，则 a 会排列到 b 之前。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span>b<span class="token operator">-</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 6, 4, 3, 1 ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 6, 4, 3, 1 ]</span>
</code></pre></div></li></ul></li></ul></li></ul></li> <li><p>数组的片段浅拷贝、转换成字符串、拼接（不改变原数组）</p> <ul><li><p>数组元素片段浅拷贝</p> <p><code>arr.slice([begin[, end]])</code>
slice() 方法返回一个新的数组对象，这一对象是一个由 begin 和 end 决定的原数组的浅拷贝（<strong>包括 begin，不包括 end</strong>）。<strong>原始数组不会被改变。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1 ]</span>
</code></pre></div></li> <li><p>转换成字符串</p> <ul><li><p><code>arr.toString()</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1,2</span>
</code></pre></div></li> <li><p><code>arr.join(</code>分隔符<code>)</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1-2</span>
</code></pre></div></li></ul></li> <li><p>拼接</p> <ul><li><p><code>arr.concat(arr1, arr2, ...)</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">4</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span>arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, 3, 4 ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2 ]</span>
</code></pre></div></li> <li><p>es6 新增：<code>[...arr1, arr2]</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">,</span>arr1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, [ 3 ] ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2 ]</span>
</code></pre></div></li></ul></li></ul></li> <li><p>数组的其他方法</p> <ul><li><p><code>forEach()</code> ，对数组的每个元素执行一次给定的函数。</p> <p><code>arr.forEach(function(currentValue [, index [, array]])[, thisArg])</code></p> <p>currentValue：当前元素</p> <p>index：当前元素的索引值</p> <p>array：forEach() 方法正在操作的数组。</p> <p>thisArg：当执行回调函数时，用作 this 的值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 1 0 1,2</span>
  <span class="token comment">// 2 1 1,2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>filter()</code> ， 方法创建一个新数组，其包含通过所提供函数实现的测试的所有元素。
<code>let newArray = arr.filter(function(element[, index[, array]])[, thisArg])</code></p> <p>element：数组中当前正在处理的元素。</p> <p>index：正在处理的元素在数组中的索引。</p> <p>array：调用了 filter 的数组本身。</p> <p>thisArg：执行回调函数时，用于 this 的值。</p> <p>filter() 为数组中的每个元素调用一次 callback 函数，并<strong>利用</strong>所有使得 callback 返回 true 或等价于 true 的值的<strong>元素创建一个新数组</strong>。callback 只会在已经赋值的索引上被调用，对于那些已经被删除或者从未被赋值的索引不会被调用。那些没有通过 callback 测试的元素会被跳过，不会被包含在新数组中。</p> <p><strong>filter 不会改变原数组，它返回过滤后的新数组。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> e <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 2, 3 ]</span>
</code></pre></div></li> <li><p><code>reduce()</code> 方法对数组中的每个元素按序执行回调函数，每一次运行回调函数会将先前元素的计算结果作为参数传入，最后将其结果汇总为单个返回值。</p> <p>第一次执行回调函数时，不存在“上一次的计算结果”。如果需要回调函数从数组索引为 0 的元素开始执行，则需要传递初始值。否则，数组索引为 0 的元素将被作为初始值 initialValue，迭代器将从第二个元素开始执行（索引为 1 而不是 0）。</p> <p><code>arr.reduce(function(total, currentValue[, currentIndex[, array]])[, initialValue)]</code></p> <p>total：初始值，或者计算结束后的返回值。</p> <p>currentValue：当前元素。</p> <p>currentIndex：当前元素的索引。</p> <p>array：当前元素所属的数组对象。</p> <p>initialValue：传递给函数的初始值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">getSum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">total<span class="token punctuation">,</span>num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>total <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> total <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>getSum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1 2</span>
<span class="token comment">// 3 5</span>
<span class="token comment">// 8 </span>
<span class="token comment">// 未给定初始值，回调的迭代从第二个元素开始执行</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>getSum<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0 1</span>
<span class="token comment">// 1 2</span>
<span class="token comment">// 3 5</span>
<span class="token comment">// 8</span>
<span class="token comment">// 回调函数从第一个元素开始执行</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>getSum<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, 5 ]</span>
</code></pre></div></li> <li><p><code>map()</code> 方法创建一个新数组，这个新数组由原数组中的每个元素都调用一次提供的函数后的返回值组成。</p> <p><code>var new_array = arr.map(function (currentValue[, index[, array]]) { // Return element for new_array }[, thisArg])</code></p> <p>currentValue：当前元素</p> <p>index：当前元素的索引值</p> <p>array：map 方法调用的数组。</p> <p>thisArg：当执行回调函数时，用作 this 的值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 1 0 1,2</span>
  <span class="token comment">// 2 1 1,2</span>
  <span class="token keyword">return</span> val<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 2, 3 ]</span>
</code></pre></div></li> <li><p><code>every()</code> 方法测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值。</p> <p>如果回调函数的每一次返回都为 truthy 值，返回 true，否则返回 false。</p> <p><code>arr.every(function(element[, index[, array]])[, thisArg])</code></p> <p>element：当前元素</p> <p>index：当前元素的索引值</p> <p>array：当前元素所属的数组对象</p> <p>thisArg：当执行回调函数时，用作 this 的值</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li> <li><p><code>some()</code> 方法测试数组中是不是至少有 1 个元素通过了被提供的函数测试。它返回的是一个 Boolean 类型的值。</p> <p>数组中有至少一个元素通过回调函数的测试就会返回 true；所有元素都没有通过回调函数的测试返回值才会为 false。</p> <p><code>arr.some(function(element[, index[, array]])[, thisArg])</code></p> <p>element：当前元素</p> <p>index：当前元素的索引值</p> <p>array：当前元素所属的数组对象</p> <p>thisArg：当执行回调函数时，用作 this 的值</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li></ul></li></ul> <h5 id="function-函数"><a href="#function-函数" class="header-anchor">#</a> Function（函数）</h5> <h5 id="string-字符串对象"><a href="#string-字符串对象" class="header-anchor">#</a> String（字符串对象）</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 拼接字符串：字符串名称。concat（字符串名称，...）</span>
<span class="token comment">// concat() 方法用于连接两个或多个字符串，拼接字符串，等效于+，+更常用</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'000'</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span><span class="token string">'456'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 000123456 // 截取字符串：字符串名称。substr（start,length）</span>
<span class="token comment">// 从 start 位置开始（索引号），length 取的个数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
  
<span class="token comment">// 替换字符串：字符串名称。replace（‘被替换的字符’，‘替换为的字符’）</span>
<span class="token comment">// 若被替换的有多个，只会替换最前面的一个</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'122'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 132</span>
  
<span class="token comment">// 字符串转换为数组：字符串名称。split（‘分隔符’）</span>
<span class="token comment">// 此分割符需与字符串里面的字符与字符之间的一致才能分割成几个数组元素</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1 2 3'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ '1', '2', '3' ]</span>
  
<span class="token comment">// 根据字符返回位置</span>
<span class="token comment">//   字符串。indexOf('字符'，开始的位置）</span>
<span class="token comment">//  从开始位置往后找，若没有返回-1，若有返回第一个匹配的字符的索引号 </span>
<span class="token keyword">const</span> str1 <span class="token operator">=</span> <span class="token string">'1213'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
  
<span class="token comment">// 根据位置返回字符</span>
<span class="token comment">// 1，字符串名字。charAt(index)</span>
<span class="token comment">//    返回指定位置的字符（index 字符串的索引号）</span>
<span class="token keyword">const</span> str2 <span class="token operator">=</span> <span class="token string">'1213'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token comment">// 2，字符串名字。charCodeAt(index)</span>
<span class="token comment">//    获取指定位置处字符的 ASCII 码（index 字符串的索引号）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 49</span>
<span class="token comment">// 3，字符串名字 [index]</span>
<span class="token comment">//    获取指定位置处字符（index 字符串的索引号）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><h5 id="date-日期对象"><a href="#date-日期对象" class="header-anchor">#</a> Date（日期对象）</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取总的毫秒数</span>
<span class="token comment">// 1, 常规写法</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2, 简易写法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3,H5 新增写法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token comment">// 把总的秒数折算成天/小时/分钟/秒</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>date<span class="token operator">/</span><span class="token number">1000</span><span class="token operator">/</span><span class="token number">60</span><span class="token operator">/</span><span class="token number">60</span><span class="token operator">/</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>date<span class="token operator">/</span><span class="token number">1000</span><span class="token operator">/</span><span class="token number">60</span><span class="token operator">/</span><span class="token number">60</span><span class="token operator">%</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>date<span class="token operator">/</span><span class="token number">1000</span><span class="token operator">/</span><span class="token number">60</span><span class="token operator">%</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>date<span class="token operator">/</span><span class="token number">1000</span><span class="token operator">%</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="regexp-正则"><a href="#regexp-正则" class="header-anchor">#</a> RegExp（正则）</h5> <h5 id="math"><a href="#math" class="header-anchor">#</a> Math</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3.141592653589793 圆周率</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">2.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3 向上取整</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">2.8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 向下取整</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">3.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4 四舍五入 </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 56 最大值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 最小值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2.1 绝对值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 生成 [0,1) 之间的浮点数</span>
</code></pre></div><h5 id="set"><a href="#set" class="header-anchor">#</a> Set</h5> <h5 id="map"><a href="#map" class="header-anchor">#</a> Map</h5> <p>Map 本质上就是键值对的集合，但是普通的 Object 中的键值对中的键只能是字符串。而 ES6 提供的 Map 数据结构类似于对象，但是它的键不限制范围，可以是任意类型，是一种更加完善的 Hash 结构。如果 Map 的键是一个原始数据类型，只要两个键严格相同，就视为是同一个键。</p> <ul><li>常用方法
<ul><li><p><code>map.size</code>： 返回 Map 结构的成员总数</p></li> <li><p><code>map.set(key, value)</code>：设置键名 key 对应的键值 value，然后返回整个 Map 结构，如果 key 是简单数据类型且已经有值，则键值会被更新，否则就新生成该键，若键为引用数据类型，则不会被更改。</p></li> <li><p><code>map.delete(key)</code>：该方法删除某个键，返回 true，如果删除失败，返回 false</p></li> <li><p><code>map.clear()</code>：清除所有成员，没有返回值</p></li> <li><p><code>map.get(key)</code>：该方法读取 key 对应的键值，如果找不到 key，返回 undefined</p></li> <li><p><code>map.has(key)</code>：该方法返回一个布尔值，表示某个键是否在当前 Map 对象中</p></li> <li><p>Map 结构原生提供三个遍历器生成函数和一个遍历方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
 <span class="token punctuation">[</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// foo</span>
 <span class="token comment">// bar</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 1</span>
 <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// [ 'foo', 1 ]</span>
 <span class="token comment">// [ 'bar', 2 ]</span>
<span class="token punctuation">}</span>
m<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> map</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 1 foo</span>
 <span class="token comment">// 2 bar</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul> <h5 id="weakmap"><a href="#weakmap" class="header-anchor">#</a> weakMap</h5> <p>WeakMap 对象也是一组键值对的集合，其中的键是弱引用的。其键必须是对象，原始数据类型不能作为 key 值，而值可以是任意的。</p> <blockquote><p>WeakMap 的设计目的在于，有时想在某个对象上面存放一些数据，但是这会形成对于这个对象的引用。一旦不再需要这两个对象，就必须手动删除这个引用，否则垃圾回收机制就不会释放对象占用的内存。而 WeakMap 的键名所引用的对象都是弱引用，即垃圾回收机制不将该引用考虑在内。因此，只要所引用的对象的其他引用都被清除，垃圾回收机制就会释放该对象所占用的内存。也就是说，一旦不再需要，WeakMap 里面的键名对象和所对应的键值对会自动消失，不用手动删除引用</p></blockquote> <ul><li>常用方法
<ul><li><code>m.set(key, value)</code>：设置键名 key 对应的键值 value，然后返回整个 Map 结构</li> <li><code>m.delete(key)</code>：该方法删除某个键，返回 true，如果删除失败，返回 false</li> <li><code>m.get(key)</code>：该方法读取 key 对应的键值，如果找不到 key，返回 undefined</li> <li><code>m.has(key)</code>：该方法返回一个布尔值，表示某个键是否在当前 Map 对象中</li></ul></li></ul> <h4 id="数据类型的判断"><a href="#数据类型的判断" class="header-anchor">#</a> 数据类型的判断</h4> <ul><li><p><code>typeof xxx</code>：可以判断基本数据类型（null 除外）；但是引用数据类型中，除了 function 类型以外，其他的也无法判断。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token comment">// 除 function 以外的对象都会被识别成 object</span>
<span class="token comment">// 另外，null 也会被识别成对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
</code></pre></div></li> <li><p><code>xxx instanceof constructor</code>：用来判断 xxx 是否为 constructor 的实例。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 直接使用 instanceof 并不能判断基本数据类型，</span>
<span class="token comment">//    但可以通过自定义 instanceof 行为的方式来实现 instanceof 对基本数据类型的判断。</span>
<span class="token keyword">class</span> <span class="token class-name">PrimitiveNumber</span> <span class="token punctuation">{</span>
  <span class="token comment">// Symbol.hasInstance 用于判断某对象是否为某构造器的实例。</span>
  <span class="token comment">//    因此可以用它自定义 instanceof 操作符在某个类上的行为。</span>
  <span class="token keyword">static</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span> <span class="token keyword">instanceof</span> <span class="token class-name">PrimitiveNumber</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
</code></pre></div></li> <li><p><code>Object.prototype.toString.call()</code></p> <p>不同数据类型的 Object.prototype.toString.call() 方法返回值如下：</p> <ul><li>数值：返回 [object Number]。</li> <li>字符串：返回 [object String]。</li> <li>布尔值：返回 [object Boolean]。</li> <li>undefined：返回 [object Undefined]。</li> <li>null：返回 [object Null]。</li> <li>数组：返回 [object Array]。</li> <li>arguments 对象：返回 [object Arguments]。</li> <li>函数：返回 [object Function]。</li> <li>Error 对象：返回 [object Error]。</li> <li>Date 对象：返回 [object Date]。</li> <li>RegExp 对象：返回 [object RegExp]。</li> <li>其他对象：返回 [object Object]。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Number]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object String]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Boolean]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Number]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Undefined]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Null]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Symbol]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '[object Function]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Array]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Object]'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Date]'</span>
</code></pre></div></li></ul> <h4 id="栈和堆空间"><a href="#栈和堆空间" class="header-anchor">#</a> 栈和堆空间</h4> <ul><li><p>栈空间</p> <p>基本数据类型直接存储在栈（stack）中的简单数据段，占据空间小、大小固定、可以直接操作其保存的变量、运行效率高、由系统自动分配存储空间，属于被频繁使用数据，所以放入栈中存储。</p> <p><img src="/FrontNotes/assets/img/stack_memory.60189406.png" alt="stack_memory"></p></li> <li><p>堆空间</p> <p>引用数据类型存储在堆（heap）中的对象，占据空间大、运行效率低、大小不固定、通过代码进行分配空间。如果存储在栈中，将会影响程序运行的性能；引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。</p> <p><img src="/FrontNotes/assets/img/heap_memory.fdcf09aa.png" alt="heap_memory"></p></li></ul> <h3 id="操作符"><a href="#操作符" class="header-anchor">#</a> 操作符</h3> <p><strong>加法操作符</strong></p> <p>相加运算符（+）为两种不同的运算重载：数字加法和字符串连接。在求值时，首先，按顺序调用对象的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive" target="_blank" rel="noopener noreferrer">@@toPrimitive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（以 &quot;default&quot; 为 hint）、valueOf 和 toString 方法，将两个操作数强制转换为原始值。然后，检查两个操作数的类型：</p> <ul><li>如果一方是字符串，另一方会被转换为字符串，两个字符串连接。</li> <li>如果双方都是 BigInt，则执行 BigInt 加法。如果一方是 BigInt 而另一方不是，会抛出 TypeError</li> <li>否则，双方都会被转换为数字，执行数字加法。</li></ul> <blockquote><p>字符串连接经常被认为等价于模板字符串或者 String.prototype.concat()，但并非如此。<strong>加法</strong>强制将表达式转为原始值，它<strong>优先调用 valueOf()</strong>；另一方面，<strong>模板字符串和 concat()</strong> 则强制将表达式转为字符串，它们优先调用 <strong>toString()</strong>。如果表达式有 <strong>@@toPrimitive</strong> 方法，字符串连接时会用 <strong><a href="https://zh.javascript.info/object-toprimitive#symboltoprimitive" target="_blank" rel="noopener noreferrer">&quot;default&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> （&quot;default&quot;表示会先调用 valueOf() 后调用 toString()）作为 hint 调用它，然而模板字符串则用 <strong>&quot;string&quot;</strong>（&quot;string&quot;表示会先调用 toString() 后调用 valueOf()）。这对于具有不同的字符串和原始值表现的对象来说很重要——例如 <a href="https://github.com/tc39/proposal-temporal" target="_blank" rel="noopener noreferrer">Temporal<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，它的 valueOf() 方法会抛出错误。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> result1 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>    <span class="token comment">// 两个数值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 10</span>
<span class="token keyword">let</span> result2 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// 一个数值和一个字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// '55'</span>

<span class="token keyword">const</span> t <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">instant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">+</span> t<span class="token punctuation">;</span> <span class="token comment">// 抛出 TypeError</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>t<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// '2022-07-31T04:48:56.113918308Z'</span>
<span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '2022-07-31T04:48:56.113918308Z'</span>
</code></pre></div><p><strong>减法操作符</strong></p> <ul><li><p>减法操作符用于处理 ECMAScript 中不同类型之间转换的规则：</p> <ul><li><p>如果有任一操作数是字符串、布尔值、 null 或 undefined ，则先在后台使用 Number() 将其转换为数值，然后再根据前面的规则执行数学运算。如果转换结果是 NaN ，则减法计算的结果是 NaN 。</p></li> <li><p>如果有任一操作数是对象，则调用其 valueOf() 方法取得表示它的数值。如果该值是 NaN ，则减法计算的结果是 NaN 。如果对象没有 valueOf() 方法，则调用其 toString() 方法，然后再将得到的字符串转换为数值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> result1 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">-</span><span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// true 被转换为 1，所以结果是 4</span>
<span class="token keyword">let</span> result2 <span class="token operator">=</span> <span class="token number">NaN</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token keyword">let</span> result3 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">-</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;被转换为 0，所以结果是 5</span>
<span class="token keyword">let</span> result4 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">-</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// null 被转换为 0，所以结果是 5</span>
</code></pre></div></li></ul></li></ul> <p><strong>取整运算符</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">~</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">~</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">~</span><span class="token number">1.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><p><strong>相等操作符</strong></p> <ul><li><p>使用<code>==</code>和<code>!=</code>时，操作符会先进行隐式类型转换再确定操作数是否相等。相等和不相等操作符在比较时会遵循如下规则。</p> <ol><li>如果操作数具有相同的类型，则按如下方式进行比较：
<ul><li>对象（Object）：仅当两个操作数引用同一个对象时返回 true。</li> <li>字符串（String）：只有当两个操作数具有相同的字符且顺序相同时才返回 true。</li> <li>数值（Number）：如果两个操作数的值相同，则返回 true。+0 和 -0 被视为相同的值。如果任何一个操作数是 NaN，返回 false；所以，NaN 永远不等于 NaN。</li> <li>布尔值（Boolean）：仅当操作数都为 true 或都为 false 时返回 true。</li> <li>大整形（BigInt）：仅当两个操作数值相同时返回 true。</li> <li>符号（Symbol）：仅当两个操作数引用相同的符号时返回 true。</li></ul></li> <li>如果其中一个操作数为 null 或 undefined，另一个操作数也必须为 null 或 undefined 以返回 true。否则返回 false。</li> <li>如果其中一个操作数是对象，另一个是基本类型，按此顺序使用对象的 @@toPrimitive()（以 &quot;default&quot; 作为提示），valueOf() 和 toString() 方法将对象转换为基本类型。</li> <li>在这一步，两个操作数都被转换为基本类型（String、Number、Boolean、Symbol 和 BigInt 中的一个）。其余的转换是逐个进行的。
<ul><li>如果是相同的类型，使用步骤 1 进行比较。</li> <li>如果其中一个操作数是 Symbol 而另一个不是，返回 false。</li> <li>如果其中一个操作数是布尔型而另一个不是，则将布尔型转换为数字：true 转换为 1，false 转换为 0。然后再次松散地比较两个操作数。</li> <li>如果一个操作数是字符串，另一个操作数是数值，则尝试将字符串转换为数值，再比较是否相等。</li> <li>如果一个是 Number，一个是 BigInt，按数值进行比较。如果数值为 正负无穷大或 NaN，返回 false。</li> <li>如果一个操作数是字符串，另一个操作数是 BigInt，使用与 BigInt() 构造函数相同的算法将字符串转换为 BigInt。如果转换失败，返回 false。</li></ul></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><blockquote><p>=== 和 == 的区别：=== 是严格相等符，不会对操作数进行隐式类型转换。== 会对操作数进行隐式类型转换。</p> <p>Object.is() 在===的基础上修复了一些特殊情况下的失误，就是+0 和-0，NaN 和 NaN。</p></blockquote></li></ul> <p><strong>逻辑运算符</strong></p> <ul><li><p>|| 会在左侧的操作数为假值时，返回其右侧操作数，否则返回左侧操作数。</p> <blockquote><p>js 中只有 8 个假值：false、0、-0、0n、空字符串、null、undefined、NaN。</p></blockquote></li> <li><p>&amp;&amp; 会在左侧的操作数为真值时，返回其右侧操作数，否则返回左侧操作数。</p></li> <li><p>空值合并运算符（??）会在左侧的操作数为 <code>null</code> 或者 <code>undefined</code> 时，返回其右侧操作数，否则返回左侧操作数。</p></li></ul> <h2 id="_2-作用域与内存"><a href="#_2-作用域与内存" class="header-anchor">#</a> 2. 作用域与内存</h2> <h3 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h3> <p>作用域有三种：全局作用域、局部作用域、块级作用域。</p> <ul><li><p>全局作用域</p> <ul><li><p>最外层函数和最外层函数外面定义的变量拥有全局作用域（函数本身也是一个特殊的变量，其名字就是函数名字）</p></li> <li><p>所有未定义直接赋值的变量自动声明为全局作用域</p></li> <li><p>所有 window 对象的属性拥有全局作用域</p></li> <li><p>全局作用域有很大的弊端，过多的全局作用域变量会污染全局命名空间，容易引起命名冲突</p></li></ul></li> <li><p>局部作用域</p> <ul><li><p>声明在函数内部的变量，一般只有固定的代码片段可以访问到</p></li> <li><p>作用域是分层的，内层作用域可以访问外层作用域，反之不行</p></li></ul></li> <li><p>块级作用域</p> <ul><li><p>使用 ES6 中新增的 let 和 const 指令可以声明块级作用域，块级作用域可以在函数中创建也可以在一个代码块中的创建（由{ }包裹的代码片段）</p></li> <li><p>let 和 const 声明的变量不会有变量提升，也不可以重复声明</p></li> <li><p>在循环中比较适合绑定块级作用域，这样就可以把声明的计数器变量限制在循环内部</p></li></ul></li></ul> <h3 id="垃圾回收"><a href="#垃圾回收" class="header-anchor">#</a> 垃圾回收</h3> <p>垃圾回收：JavaScript 代码运行时，需要分配内存空间来储存变量和值。当变量不在参与运行时，就需要系统收回被占用的内存空间，这就是垃圾回收。</p> <p>回收机制：</p> <ul><li><p>Javascript 具有自动垃圾回收机制，会定期对那些不再使用的变量、对象所占用的内存进行释放，原理就是找到不再使用的变量，然后释放掉其占用的内存。</p></li> <li><p>JavaScript 中存在两种变量：局部变量和全局变量。全局变量的生命周期会持续要页面卸载；而局部变量声明在函数中，它的生命周期从函数执行开始，直到函数执行结束，在这个过程中，局部变量会在堆或栈中存储它们的值，当函数执行结束后，这些局部变量不再被使用，它们所占有的空间就会被释放。</p></li> <li><p>当局部变量被外部函数使用时，其中一种情况就是闭包，在函数执行结束后，函数外部的变量依然指向函数内部的局部变量，此时局部变量依然在被使用，所以不会回收。</p></li></ul> <p>垃圾回收的方式：</p> <ul><li><p>标记清理</p> <ul><li><p>JavaScript 最常用的垃圾回收策略是标记清理（mark-and-sweep）。当变量进入执行环境时，就标记这个变量“进入环境”，被标记为“进入环境”的变量是不能被回收的，因为他们正在被使用。当变量离开环境时，就会被标记为“离开环境”，被标记为“离开环境”的变量会被内存释放。</p></li> <li><p>给变量加标记的方式有很多种。比如，当变量进入上下文时，反转某一位；或者可以维护“在上下文中”和“不在上下文中”两个变量列表，可以把变量从一个列表转移到另一个列表。标记过程的实现并不重要，关键是策略。</p></li></ul></li> <li><p>引用计数</p> <ul><li><p>其思路是对每个值都记录它被引用的次数。声明变量并给它赋一个引用值时，这个值的引用数为 1。如果同一个值又被赋给另一个变量，那么引用数加 1。类似地，如果保存对该值引用的变量被其他值给覆盖了，那么引用数减 1。当一个值的引用数为 0 时，就说明没办法再访问到这个值了，因此可以安全地收回其内存了。垃圾回收程序下次运行的时候就会释放引用数为 0 的值的内存。</p></li> <li><p>这种方法会引起<strong>循环引用</strong>的问题。例如： 对象 obj1 和对象 obj2 通过属性进行相互引用，两个对象的引用次数都是 2。在标记清理策略下，这不是问题，因为在函数结束后，这两个对象都不在作用域中。而在引用计数策略下，obj1 和 obj2 在函数结束后还会存在，因为它们的引用数永远不会变成 0。如果函数被多次调用，则会导致大量内存永远不会被释放。</p></li></ul></li></ul> <p>减少垃圾回收：</p> <blockquote><p>虽然浏览器可以进行垃圾自动回收，但是当代码比较复杂时，垃圾回收所带来的代价比较大，所以应该尽量减少垃圾回收</p></blockquote> <ul><li><p>对数组进行优化：在清空一个数组时，最简单的方法就是给其赋值为 [ ]，但是与此同时会创建一个新的空对象，可以将数组的长度设置为 0，以此来达到清空数组的目的。</p></li> <li><p>对 object 进行优化：对象尽量复用，对于不再使用的对象，就将其设置为 null，尽快被回收。</p></li> <li><p>对函数进行优化：在循环中的函数表达式，如果可以复用，尽量放在函数的外面。</p></li></ul> <p>哪些情况会导致内存泄漏（无法垃圾回收就是内存泄露）：</p> <ul><li><p>意外的全局变量：由于使用未声明的变量，而意外的创建了一个全局变量，而使这个变量一直留在内存中无法被回收。</p></li> <li><p>被遗忘的定时器或回调函数：由于使用未声明的变量，而意外的创建了一个全局变量，而使这个变量一直留在内存中无法被回收。</p></li> <li><p>脱离 DOM 的引用：获取一个 DOM 元素的引用，而后面这个元素被删除，由于一直保留了对这个元素的引用，所以它也无法被回收。</p></li> <li><p>闭包：不合理的使用闭包，从而导致某些变量一直被留在内存当中。</p></li></ul> <h2 id="_3-面向对象"><a href="#_3-面向对象" class="header-anchor">#</a> 3. 面向对象</h2> <h3 id="创建对象"><a href="#创建对象" class="header-anchor">#</a> 创建对象</h3> <ul><li><p>工厂模式</p> <p>工厂模式的主要工作原理是用函数来封装创建对象的细节，从而通过调用函数来达到复用的目的。但是它有一个很大的问题就是创建出来的对象无法和某个类型联系起来，它只是简单的封装了复用代码，而没有建立起对象和类型间的关系。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用工厂模式创建对象</span>
<span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> name<span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> age<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  reutrn obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>构造函数模式</p> <p>构造函数就是一个普通的函数，创建方式和普通函数没有区别，不同的是构造函数习惯上首字母大写。</p> <p>构造函数和普通函数的<strong>区别</strong>就是调用方式的不同。普通函数是直接调用，而构造函数需要使用 new 关键字来调用。</p> <p>构造函数的执行流程：</p> <ol><li><p>立即创建一个新的对象。</p></li> <li><p>将对象的原型指向构造函数的 prototype 属性。将新建的对象设置为函数中 this，在构造函数中可以使用 this 来引用新建的对象</p></li> <li><p>逐行执行函数中的代码</p></li> <li><p>将新建的对象作为返回值返回</p></li></ol> <p>使用同一个构造函数创建的对象，我们称为一类对象，也将一个构造函数称为一个类。我们将通过一个构造函数创建的对象，称为是该类的实例。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用构造函数方式创建对象</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三</span>
</code></pre></div></li> <li><p>原型模式</p> <ul><li><p>构造函数的原型：<code>prototype</code> ，也叫做【原型对象】</p> <p>每一个构造函数都有一个原型对象<code>prototype</code>，<code>prototype</code>也是对象，所以叫原型对象；<code>prototype</code>里面有构造函数挂载到<code>prototype</code>上的公有方法，还有一个<code>constructor</code>（是个函数，用于指回该构造函数）；
这个<code>prototype</code>原型对象指向另一个原型对象（Object 原型对象<code>prototype</code>）【因为只要是对象就有<code>__proto__</code>, 而<code>__proto__</code>都指向某个<code>prototype</code>】；而 Object 原型对象<code>prototype</code>的原型指向 null，即<code>Object.prototype.__proto__ === null</code>为 true。</p> <p>原型对象<code>prototype</code>中的 this 指向实例对象。</p></li> <li><p>实例对象的原型：<code>__proto__</code> ，也叫做【对象原型】</p> <p>每一个对象身上都有<code>__proto__</code>，虚拟的，实际上是指向构造函数原型的一个路线，也就是说对象的<code>__proto__</code>和他所指向的<code>prototype</code>的内容是一致的，因为<code>__proto__</code>就指向该<code>prototype</code>，即<code>对象。__proto__ === 构造函数。prototype</code>为 true。</p> <blockquote><p>JS 成员查找规则</p> <ol><li><p>当访问一个对象的属性或方法时，先在该实例对象身上查找（即构造函数身上）</p></li> <li><p>若没有再查找它的原型对象 prototype</p></li> <li><p>若没有再查找原型对象的原型对象（即 Object 的原型对象）【通过该原型对象的__proto__】</p></li> <li><p>若都有，则采取就近原则选择</p></li></ol></blockquote></li></ul></li></ul> <h3 id="类"><a href="#类" class="header-anchor">#</a> 类</h3> <ul><li><p>创建类</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">blog</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 类里面的方法不用写 function</span>
  <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建实例</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">blog</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this is 123</span>
</code></pre></div></li></ul> <h2 id="_4-函数"><a href="#_4-函数" class="header-anchor">#</a> 4. 函数</h2> <h3 id="函数的-arguments-参数"><a href="#函数的-arguments-参数" class="header-anchor">#</a> 函数的 arguments 参数</h3> <p>arguments 是一个类数组。</p> <blockquote><p>类数组的属性从 0 开始排，有 callee 和 length 属性，不过它不能调用数组方法。</p> <p>常见的类数组如：用 getElementByTagName() / getElementByClassName() 获得的元素集合。</p></blockquote> <h3 id="this-指向"><a href="#this-指向" class="header-anchor">#</a> this 指向</h3> <p>解析器在调用函数时每次都会向函数内部传入一个隐含的参数，</p> <p>这个隐含的参数就是 this，this 指向的是一个对象，</p> <p>这个对象我们称为函数执行的上下文对象，</p> <p>根据函数的调用方式不同，this 会指向不同的对象：</p> <ol><li><p>以函数的形式调用时，this 永远都是 window</p></li> <li><p>以方法的形式调用时，this 就是调用方法的那个对象</p></li> <li><p>以构造函数的形式调用时，this 指向新创建的那个对象</p></li></ol> <p>改变函数内部的 this 指向：</p> <ul><li><p><code>function.call(thisArg[, arg1[, arg2[, ...]]])</code>使用一个指定的 this 值和单独给出的一个或多个参数来调用一个函数。</p> <p>thisArg：在 function 函数运行时使用的 this 值。</p> <p>arg1, arg2, ... ： 指定的参数列表。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { id: 1 }</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token punctuation">}</span>
<span class="token function">demo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>function.apply(thisArg, argsArray)</code>使用一个指定的 this 值和参数数组来调用一个函数。</p> <p>thisArg：在 function 函数运行时使用的 this 值。</p> <p>argsArray：一个数组或者类数组对象，其中的数组元素将作为单独的参数传给 function 函数。如果该参数的值为 null 或  undefined，则表示不需要传入任何参数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { id: 1 }</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token punctuation">}</span>
<span class="token function">demo</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, [ 3 ] ]</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, [ 3 ], 4 ]</span>
</code></pre></div></li> <li><p><code>bind()</code> 方法创建一个新的函数，在 bind() 被调用时，这个新函数的 this 被指定为 bind() 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。</p> <p><code>function.bind(thisArg[, arg1[, arg2[, ...]]])</code></p> <p>thisArg： 调用绑定函数时作为 this 参数传递给目标函数的值。</p> <p>arg1, arg2, ... ： 指定的参数列表。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getX</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> unboundGetX <span class="token operator">=</span> module<span class="token punctuation">.</span>getX<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unboundGetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined 该函数在全局作用域内被调用</span>
<span class="token keyword">const</span> boundGetX <span class="token operator">=</span> <span class="token function">unboundGetX</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">boundGetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>
</code></pre></div></li></ul> <h3 id="函数上下文的创建"><a href="#函数上下文的创建" class="header-anchor">#</a> 函数上下文的创建</h3> <p>函数在执行之前，会生成一个函数上下文（或者叫活动对象），创建的过程：</p> <ol><li>寻找函数里的形参和变量声明</li> <li>将实参的参数值赋值给形参</li> <li>寻找函数声明，然后赋值函数体</li> <li>执行</li></ol> <h3 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h3> <p>闭包是指引用了另一个函数作用域中变量的函数，通常是在嵌套函数中实现的。创建闭包的最常见的方式就是在一个函数内创建另一个函数，创建的函数可以访问到当前函数的局部变量。</p> <p>用途：</p> <ul><li><p>闭包的第一个用途是使我们在函数外部能够访问到函数内部的变量。通过使用闭包，可以通过在外部调用闭包函数，从而在外部访问到函数内部的变量，可以使用这种方法来创建私有变量。</p></li> <li><p>闭包的另一个用途是使已经运行结束的函数上下文中的变量对象继续留在内存中，因为闭包函数保留了这个变量对象的引用，所以这个变量对象不会被回收。</p></li></ul> <h2 id="_5-异步编程"><a href="#_5-异步编程" class="header-anchor">#</a> 5. 异步编程</h2> <h3 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h3> <p><code>Promise</code>实例有三种状态：pending（进行中）、fulfilled（已完成）、rejected（已拒绝）。</p> <p><code>Promise</code>实例的状态转换只有两种可能：</p> <ul><li><p>pending -&gt; fulfilled : resolve()（已完成）</p></li> <li><p>pending -&gt; rejected：reject()（已拒绝）</p></li></ul> <p><strong>创建 Promise 实例</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 正常创建一个 Promise 实例</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function (anonymous)]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function (anonymous)]</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将 Promise 实例变成成功状态</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
  <span class="token comment">// reject('fail'); // 将 Promise 实例变成失败状态</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Promise { 'success' }</span>

<span class="token comment">// 快速创建一个成功状态的 Promise 实例</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'success123'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// success123</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 快速创建一个失败状态的 Promise 实例</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'error123'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error123</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>实例方法</strong></p> <ul><li><p><code>Promise 实例。then()</code></p> <div class="language-js extra-class"><pre class="language-js"><code>Promise <span class="token function">实例。then</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 成功的回调</span>
  <span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 失败的回调（该回调可省略）</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>then()</code>返回的是一个【新的 Promise 对象】，它的值和状态由什么决定？</p> <ol><li><p>简单表达：由 then() 所指定的回调函数执行的结果决定</p></li> <li><p>详细表达：</p></li></ol> <p>(1）如果 then 所指定的回调返回的是非 Promise 值 a:</p> <p>那么【新的 Promise 对象】状态为：成功 (fulfilled)，成功的 value 为 a</p> <p>(2) 如果 then 所指定的回调返回的是一个 Promise 实例 p:</p> <p>那么【新的 Promise 对象】的状态、值都与 p 一致</p> <p>(3) 如果 then 所指定的回调抛出异常：</p> <p>那么【新的 Promise 对象】状态为 rejected，reason 为抛出的那个异常</p></li> <li><p><code>Promise 实例。catch()</code></p> <div class="language-js extra-class"><pre class="language-js"><code>Promise <span class="token function">实例。catch</span><span class="token punctuation">(</span><span class="token parameter">reason</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 失败的回调</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>Promise.all([p1,p2...])</code>：p1，p2 为 Promise 实例</p> <p>all() 方法接受一个数组，数组里的每一项都是一个 Promise 实例。当该数组中所有的 Promise 实例的状态都为 fulfilled 时，Promise.all() 的值是一个全部值的数组，这个数组按顺序保存着每一个 Promise 实例 resolve() 执行时的值。如果有任何一个 Promise 实例失败，Promise.all() 值是第一个失败的 Promise 实例的结果。</p></li> <li><p><code>Promise.race([p1,p2...])</code>：p1，p2 为 Promise 实例</p> <p>race() 和 all() 一样，接受的参数是一个每项都是 Promise 实例的数组，但是与 all 不同的是，当最先执行完的 Promise 实例执行完之后，就直接返回该 Promise 实例的值。如果第一个 Promise 实例状态变成 fulfilled，那自身的状态变成 fulfilled；反之第一个 Promise 实例变成 rejected，那自身状态就会变成 rejected。</p></li></ul> <h3 id="async-await"><a href="#async-await" class="header-anchor">#</a> async/await</h3> <p>async/await 能实现的效果都能用 then 链来实现，它是为优化 then 链而开发出来的。从字面上来看，async 是“异步”的简写，await 则为等待，所以很好理解 async 用于申明一个 function 是异步的，而 await 用于等待一个异步方法执行完成。</p> <p><strong>async 函数返回的是一个 Promise 对象</strong>：如果在函数中 return 一个直接量，async 会把这个直接量通过 Promise.resolve() 封装成 Promise 对象。async 函数返回的是一个 Promise 对象，所以在最外层不能用 await 获取其返回值的情况下，应该用原来的方式（<code>then()</code> 链）来处理这个 Promise 对象。</p> <p>await 右侧的表达式一般为 Promise 实例对象，但也可以是其它的值。如果表达式是 promise 实例对象，await 后的返回值是 promise 成功的值；如果表达式是其它值，直接将此值作为 await 的返回值。</p> <blockquote><p>await 必须写在 async 函数中，但 async 函数中可以没有 await。如果 await 的 Promise 实例对象失败了，就会抛出异常，需要通过 <code>try ... catch</code>来捕获处理。</p></blockquote> <h2 id="_6-网络请求"><a href="#_6-网络请求" class="header-anchor">#</a> 6. 网络请求</h2> <h2 id="_7-模块化"><a href="#_7-模块化" class="header-anchor">#</a> 7. 模块化</h2> <p>比较流行的模块化规范：CommonJS 和 ES6。</p> <ul><li><p>CommonJS</p> <ul><li><p>规范</p> <ul><li><p>每个文件都是一个模块。</p></li> <li><p>服务器端：模块化的代码可以直接运行。</p></li> <li><p>浏览器端：模块化的代码要经过 Browserify 编译。</p></li></ul></li> <li><p>基本语法</p> <ul><li><p>暴露的本质是<code>module.exports</code>的内容。引入的内容是什么，取决于暴露的是什么。</p></li> <li><p>暴露语法</p> <p>1.<code>module.exports = xxx</code></p> <p>xxx 就是暴露的内容。<code>module.exports</code>和<code>exports</code>不能混用，若混用了，以<code>module.exports</code>暴露的为主。</p> <p>2.<code>exports.xxx = value</code></p> <p>value 是暴露的内容，xxx 是它的名字。</p></li> <li><p>引入语法</p> <ol><li><p>引入第三方模块：<code>const module = require(’模块名’)</code></p></li> <li><p>引入自定义模块：<code>const module = require(’模块文件路径’)</code></p></li></ol></li> <li><p>内置关系</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// `exports`和`module.exports`初始值指向同一个空对象{}。</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>exports <span class="token operator">===</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><p><img src="/FrontNotes/assets/img/exports_with_module.exports.96442acc.png" alt="exports_with_module.exports"></p></li></ul></li></ul></li> <li><p>ES6 模块化规范</p> <ul><li>规范
<ul><li>每个文件都是一个模块。</li> <li>要借助 Babel 和 Browserify 依次编译代码，才能在浏览器端运行。</li></ul></li> <li>基本语法
<ul><li>暴露模块
<ol><li>分别暴露：<code>export 暴露内容</code></li> <li>统一暴露：<code>export { 暴露内容 1, 暴露内容 2 }</code> 或
<code>export { 暴露内容 1 as a, 暴露内容 2 as b }</code></li> <li>默认暴露（只能暴露一次）：<code>export default 暴露内容</code></li></ol></li> <li>引入模块
<ol><li>方法一：
引入分别暴露（或统一暴露）的模块
<code>import { xxx, yyy } from ‘./module1’</code>
引入分别暴露（或统一暴露）的模块+重命名
<code>import { xxx as kkk } from ‘./module1’</code>
引入分别暴露（或统一暴露）的模块+打包引入
<code>import * as module1 from ‘./module1’</code></li> <li>方法二（引入默认暴露的模块）：<code>import module2 from ‘./module2’</code></li></ol></li></ul></li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/FrontNotes/assets/js/app.8797468b.js" defer></script><script src="/FrontNotes/assets/js/2.812b2437.js" defer></script><script src="/FrontNotes/assets/js/5.27c6bbc0.js" defer></script>
  </body>
</html>
